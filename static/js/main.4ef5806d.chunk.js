(this["webpackJsonpvoca-quiz"]=this["webpackJsonpvoca-quiz"]||[]).push([[0],{14:function(e,t,a){e.exports=a(20)},19:function(e,t,a){},2:function(e,t,a){e.exports={event:"cs_event__3RPh1",group:"cs_group__1AOht",id:"cs_id__3gZxB",date:"cs_date__2x8AP",day:"cs_day__3Vqrj",description:"cs_description__229cd",type:"cs_type__z4ETh",button:"cs_button__3d4Lv",inputFieldLabel:"cs_inputFieldLabel__1c2LT",inputField:"cs_inputField__5jkxO",fieldset:"cs_fieldset__2Mk0m",debug:"cs_debug__1qcK0",displayNone:"cs_displayNone__3hEyG",displayInitial:"cs_displayInitial__2OEDJ"}},20:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),l=a.n(r),o=(a(19),a(1)),i=a(21),s=a(4),u="/ItemGetApi.php",m="/UserLoginApi.php",d="https://www.odusseus.org/php/elpida",p=a(7);a(11);var b=a(12),v=a(9),f=a(2),E=a.n(f),h=function e(t,a,n){Object(p.a)(this,e),this.value=a,this.comment=n,this.id=t};function O(e){var t=e.item,a=e.index,n=e.handleItemClick,r=e.handleRemoveClick;return c.a.createElement("div",{className:E.a.group,key:t.id},c.a.createElement("div",{className:E.a.id},t.id),c.a.createElement("div",{className:E.a.description},"Value: ",t.value),c.a.createElement("div",null,"Comment: ",t.comment),c.a.createElement("div",{className:E.a.button},c.a.createElement("button",{onClick:function(){return n(a)}},"Edit"),c.a.createElement("button",{onClick:function(){return r(a)}},"Delete")))}function j(e){var t=e.item,a=e.addItem,r=Object(n.useState)(t.id),l=Object(o.a)(r,2),i=l[0],s=l[1],u=Object(n.useState)(t.value),m=Object(o.a)(u,2),d=m[0],p=m[1],b=Object(n.useState)(t.comment),v=Object(o.a)(b,2),f=v[0],O=v[1],j=Object(n.useState)(""),g=Object(o.a)(j,2),w=g[0],y=(g[1],Object(n.useState)("")),S=Object(o.a)(y,2),k=S[0];S[1];Object(n.useEffect)((function(){s(t.id),p(t.value),O(t.comment)}),[t]);return c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),d){var t=new h(i,d,f);s(""),p(""),O(""),a(t)}}},c.a.createElement("fieldset",{className:E.a.fieldset},c.a.createElement("legend",null,"Edit Item:"),c.a.createElement("div",{className:E.a.id},c.a.createElement("label",{className:E.a.inputFieldLabel},"id"),c.a.createElement("div",null,i)),c.a.createElement("div",{className:E.a.inputField},c.a.createElement("label",{className:E.a.inputFieldLabel},"Value",c.a.createElement("input",{className:E.a.inputField,type:"text",value:d,onChange:function(e){return p(e.target.value)},placeholder:"my value..."}))),c.a.createElement("div",{className:E.a.inputField},c.a.createElement("label",{className:E.a.inputFieldLabel},"comment",c.a.createElement("input",{className:E.a.inputField,type:"text",value:f,onChange:function(e){return O(e.target.value)},placeholder:"my comment..."}))),c.a.createElement("div",{className:E.a.button},c.a.createElement("input",{type:"submit",value:"Save"})),c.a.createElement(_,{message:k}),c.a.createElement(N,{error:w})));function N(e){var t=e.error;return c.a.createElement("div",null,t)}function _(e){var t=e.message;return c.a.createElement("div",null,t)}}function g(e){var t=e.show?E.a.displayInitial:E.a.displayNone,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],s=r[1],m=Object(n.useState)(new h(0)),p=Object(o.a)(m,2),f=p[0],g=p[1],S=Object(n.useState)(""),k=Object(o.a)(S,2),N=k[0],_=k[1],C=Object(n.useState)(""),I=Object(o.a)(C,2),x=I[0],T=I[1],F=Object(n.useState)(0),L=Object(o.a)(F,2),A=L[0],D=L[1],J=Object(n.useState)(!1),P=Object(o.a)(J,2),G=P[0],U=P[1],V=Object(i.a)(["token"]),q=Object(o.a)(V,3),z=q[0];q[1],q[2];Object(n.useEffect)((function(){_(""),T("");var e="?token=".concat(z.token);fetch("".concat(d).concat(u).concat(e),{method:"GET",credentials:"include",headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){if(console.log(e),200===e.statusCode){T(e.message);var t=[],a=0;if(e.message){var n=JSON.parse(e.message);t=JSON.parse(n.value),a=n.version}s(t),D(a);for(var c=0,r=0;r<t.length;r++){var l=t[r].id;l>c&&(c=l)}c>0&&c++,g(new h(c))}else{var o=e.message;401===e.statusCode&&(o="You are logged out, svp login again."),_(o)}})).catch((function(e){console.error("There was an error.",e),_("There was an error : ".concat(d).concat(u," error:").concat(e))}))}),[]),Object(n.useEffect)((function(){G&&(R(),U(!1))}),[G]);var R=function(){_(""),T("");var e=JSON.stringify(l),t={credentials:"include",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:JSON.stringify({value:e,version:A})},a="?token=".concat(z.token);fetch("".concat(d).concat("/ItemSetApi.php").concat(a),t).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.statusCode?T(e.message):_(e.message)})).catch((function(e){console.error("There was an error.",e),_("There was an error : ".concat(d).concat("/ItemSetApi.php"))}))};var B=function(e){var t=Object(v.a)(l);t.splice(e,1),s(t),R()},M=function(e){var t=l[e];g(Object(b.a)({},t))};return c.a.createElement("div",{className:t},c.a.createElement("h2",null,"List"),c.a.createElement(j,{item:f,addItem:function(e){var t=l.filter((function(t){return t.id!==e.id})),a=[].concat(Object(v.a)(t),[e]).sort(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var c="string"===typeof a[e]?a[e].toUpperCase():a[e],r="string"===typeof n[e]?n[e].toUpperCase():n[e],l=0;return c>r?l=1:c<r&&(l=-1),"desc"===t?-1*l:l}}("value"));s(a);for(var n=0,c=0;c<a.length;c++){var r=a[c].id;r>n&&(n=r)}n>0&&n++;var o=new h(n);g(o),U(!0)}}),c.a.createElement("div",null,l.length?l.map((function(e,t){return c.a.createElement(O,{key:e.id,item:e,index:t,handleItemClick:M,handleRemoveClick:B})})):""),c.a.createElement(y,{message:x}),c.a.createElement(w,{error:N}))}function w(e){var t=e.error;return c.a.createElement("div",null,t)}function y(e){var t=e.message;return c.a.createElement("div",null,t)}function S(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),p=d[0],b=d[1],v=Object(n.useState)(!1),f=Object(o.a)(v,2),h=f[0],O=f[1],j=Object(n.useState)(""),w=Object(o.a)(j,2),y=w[0],S=w[1],T=Object(n.useState)(""),F=Object(o.a)(T,2),L=F[0],A=F[1],D=Object(n.useState)(!1),J=Object(o.a)(D,2),P=J[0],G=J[1],U=Object(n.useState)([]),V=Object(o.a)(U,2);V[0],V[1];return c.a.createElement("div",{className:E.a.event},c.a.createElement("nav",null,c.a.createElement("button",{onClick:function(){r(!a)}},"Info"),c.a.createElement("button",{onClick:function(){u(!s)}},"New account"),c.a.createElement("button",{onClick:function(){b(!p)}},"sign in"),c.a.createElement("button",{onClick:function(){O(!h)}},"Item length"),c.a.createElement("button",{onClick:function(){S(!y)}},"Save Item"),c.a.createElement("button",{onClick:function(){A(!L)}},"Get Item"),c.a.createElement("button",{onClick:function(){G(!P)}},"Show Items List")),c.a.createElement("div",{className:E.a.group},c.a.createElement("h1",null,"Hello Voca-Quiz!"),c.a.createElement(k,{show:a}),c.a.createElement(N,{show:s}),c.a.createElement(_,{show:p}),c.a.createElement(C,{show:h}),c.a.createElement(I,{show:y}),c.a.createElement(x,{show:L}),c.a.createElement(g,{show:P})))}function k(e){var t=e.show?E.a.displayInitial:E.a.displayNone;return c.a.createElement("div",{className:t},c.a.createElement("h1",null,"Item 1.0"))}function N(e){var t=e.show?E.a.displayInitial:E.a.displayNone,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],i=r[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),p=m[0],b=m[1],v=Object(n.useState)(""),f=Object(o.a)(v,2),h=f[0],O=f[1],j=Object(n.useState)(""),g=Object(o.a)(j,2),w=g[0],y=g[1],S=Object(n.useState)(""),k=Object(o.a)(S,2),N=k[0],_=k[1];return c.a.createElement("div",{className:t},c.a.createElement("form",{onSubmit:function(e){y(""),_(""),e.preventDefault();var t={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:JSON.stringify({appname:"voca",nickname:l,password:p,email:h})};Object(s.a)("".concat(d).concat("/UserCreateApi.php"),t).then((function(e){return e.json()})).then((function(e){console.log(e),console.log("ready"),200===e.statusCode?_(e.message):y(e.message)})).catch((function(e){console.error("There was an error.",e),y("There was an error with UserCreateApi.")}))}},c.a.createElement("fieldset",{className:E.a.fieldset},c.a.createElement("legend",null,"New account:"),c.a.createElement("div",null,c.a.createElement("label",null,"Nickname",c.a.createElement("input",{type:"text",value:l,onChange:function(e){return i(e.target.value)},placeholder:"my nickname"}))),c.a.createElement("div",null,c.a.createElement("label",null,"Password",c.a.createElement("input",{type:"text",value:p,onChange:function(e){return b(e.target.value)},placeholder:"my password"}))),c.a.createElement("div",null,c.a.createElement("label",null,"Email",c.a.createElement("input",{type:"text",value:h,onChange:function(e){return O(e.target.value)},placeholder:"my@mail.org"}))),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Ok"})),c.a.createElement(F,{message:N}),c.a.createElement(T,{error:w}))))}function _(e){var t=e.show?E.a.displayInitial:E.a.displayNone,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],u=r[1],p=Object(n.useState)(""),b=Object(o.a)(p,2),v=b[0],f=b[1],h=Object(n.useState)(!1),O=Object(o.a)(h,2),j=O[0],g=O[1],w=Object(n.useState)(""),y=Object(o.a)(w,2),S=y[0],k=y[1],N=Object(n.useState)(""),_=Object(o.a)(N,2),C=_[0],I=_[1],x=Object(i.a)(["token"]),L=Object(o.a)(x,3),A=(L[0],L[1]);L[2];return c.a.createElement("div",{className:t},c.a.createElement("form",{onSubmit:function(e){k(""),I(""),e.preventDefault();var t={credentials:"include",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:JSON.stringify({appname:"voca",nickname:l,password:v,iscookiepermanent:j})};Object(s.a)("".concat(d).concat(m),t).then((function(e){try{return e.json()}catch(t){return e.text()}})).then((function(e){if(console.log(e),200===e.statusCode){I(e.message);var t=parseInt(e.tokenTimeout,10);A("token",e.token,{expires:new Date(Date.now()+t)})}else void 0!==e.statusCode?k(e.message):k(e)})).catch((function(e){console.error("There was an error.",e),k("There was an error : ".concat(d).concat(m))}))}},c.a.createElement("fieldset",{className:E.a.fieldset},c.a.createElement("legend",null,"Login:"),c.a.createElement("div",null,c.a.createElement("label",null,"Nickname",c.a.createElement("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)},placeholder:"my nickname"}))),c.a.createElement("div",null,c.a.createElement("label",null,"Password",c.a.createElement("input",{type:"text",value:v,onChange:function(e){return f(e.target.value)},placeholder:"my password"}))),c.a.createElement("div",null,c.a.createElement("label",null,"Remember me?",c.a.createElement("input",{type:"checkbox",defaultChecked:j,onChange:function(e){return g(e.target.checked)}}))),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Ok"})),c.a.createElement(F,{message:C}),c.a.createElement(T,{error:S}))))}function C(e){var t=e.show?E.a.displayInitial:E.a.displayNone,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],u=r[1],p=Object(n.useState)(""),b=Object(o.a)(p,2),v=b[0],f=b[1],h=Object(i.a)(["token"]),O=Object(o.a)(h,3),j=O[0];O[1],O[2];return c.a.createElement("div",{className:t},c.a.createElement("form",{onSubmit:function(e){u(""),f(""),e.preventDefault();var t="&token=".concat(j.token);Object(s.a)("".concat(d).concat("/ItemGetApi.php?itemlength").concat(t),{method:"GET",credentials:"include",headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.statusCode?f(e.message):u(e.message)})).catch((function(e){console.error("There was an error.",e),u("There was an error : ".concat(d).concat(m))}))}},c.a.createElement("fieldset",{className:E.a.fieldset},c.a.createElement("legend",null,"Itemlength:"),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Ok"})),c.a.createElement(F,{message:v}),c.a.createElement(T,{error:l}))))}function I(e){var t=e.show?E.a.displayInitial:E.a.displayNone,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],u=r[1],p=Object(n.useState)(0),b=Object(o.a)(p,2),v=b[0],f=b[1],h=Object(n.useState)(""),O=Object(o.a)(h,2),j=O[0],g=O[1],w=Object(n.useState)(""),y=Object(o.a)(w,2),S=y[0],k=y[1],N=Object(i.a)(["token"]),_=Object(o.a)(N,3),C=_[0];_[1],_[2];return c.a.createElement("div",{className:t},c.a.createElement("form",{onSubmit:function(e){g(""),k(""),e.preventDefault();var t={credentials:"include",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:JSON.stringify({value:l,version:v})},a="?token=".concat(C.token);Object(s.a)("".concat(d).concat("/ItemSetApi.php").concat(a),t).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.statusCode?k(e.message):g(e.message)})).catch((function(e){console.error("There was an error.",e),g("There was an error : ".concat(d).concat(m))}))}},c.a.createElement("fieldset",{className:E.a.fieldset},c.a.createElement("legend",null,"Save Item:"),c.a.createElement("div",null,c.a.createElement("label",null,"Version",c.a.createElement("input",{type:"number",value:v,onChange:function(e){return f(e.target.value)},placeholder:"0"}))),c.a.createElement("div",null,c.a.createElement("label",null,"Item",c.a.createElement("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)},placeholder:"my text..."}))),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Ok"})),c.a.createElement(F,{message:S}),c.a.createElement(T,{error:j}))))}function x(e){var t=e.show?E.a.displayInitial:E.a.displayNone,a=Object(n.useState)(""),r=Object(o.a)(a,2),l=r[0],p=r[1],b=Object(n.useState)(""),v=Object(o.a)(b,2),f=v[0],h=v[1],O=Object(i.a)(["token"]),j=Object(o.a)(O,3),g=j[0];j[1],j[2];return c.a.createElement("div",{className:t},c.a.createElement("form",{onSubmit:function(e){p(""),h(""),e.preventDefault();var t="?token=".concat(g.token);Object(s.a)("".concat(d).concat(u).concat(t),{credentials:"include",method:"GET",headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.statusCode?h(e.message):p(e.message)})).catch((function(e){console.error("There was an error.",e),p("There was an error : ".concat(d).concat(m))}))}},c.a.createElement("fieldset",{className:E.a.fieldset},c.a.createElement("legend",null,"Item:"),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Ok"})),c.a.createElement(F,{message:f}),c.a.createElement(T,{error:l}))))}function T(e){var t=e.error;return c.a.createElement("div",null,t)}function F(e){var t=e.message;return c.a.createElement("div",null,t)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.4ef5806d.chunk.js.map
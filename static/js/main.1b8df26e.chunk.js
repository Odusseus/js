(this["webpackJsonpvoca-quiz"]=this["webpackJsonpvoca-quiz"]||[]).push([[0],{14:function(e,t,a){e.exports=a(20)},19:function(e,t,a){},2:function(e,t,a){e.exports={event:"cs_event__3RPh1",group:"cs_group__1AOht",id:"cs_id__3gZxB",date:"cs_date__2x8AP",day:"cs_day__3Vqrj",description:"cs_description__229cd",type:"cs_type__z4ETh",button:"cs_button__3d4Lv",inputFieldLabel:"cs_inputFieldLabel__1c2LT",inputField:"cs_inputField__5jkxO",fieldset:"cs_fieldset__2Mk0m",debug:"cs_debug__1qcK0",displayNone:"cs_displayNone__3hEyG",displayInitial:"cs_displayInitial__2OEDJ"}},20:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(12),r=a.n(l),o=(a(19),a(1)),i="/ItemGetApi.php",s="/UserLoginApi.php",u=a(3),m=a(13),d=function e(t){Object(u.a)(this,e),this.appName=t,this.debug=!1},p=function e(){Object(u.a)(this,e);var t=window.localStorage.getItem("VocaQuiz"),a=new d("VocaQuiz");null!==t&&(a=JSON.parse(t)),this.appData=a},b=function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,null,[{key:"GetHost",value:function(){return(new p).appData.debug?"http://local.elpida.odusseus.org":"https://www.odusseus.org/php/elpida"}}]),e}();function f(e){var t=e.error;return c.a.createElement("div",null,t)}var h=a(9),v=a(6);function E(e){var t=e.message;return c.a.createElement("div",null,t)}function O(e){var t=e.fnChange,a=e.title,n=void 0===a?"":a,l=e.checked,r=void 0!==l&&l;return c.a.createElement("label",null,c.a.createElement("input",{onChange:function(e){t(e.target.checked)},type:"checkbox",checked:r}),n)}var j=a(21),g=a(2),w=a.n(g);function y(e){var t=e.show?w.a.displayInitial:w.a.displayNone,a=new p,l=Object(n.useState)(!1),r=Object(o.a)(l,2),i=r[0],s=r[1],u=Object(n.useState)(!1),m=Object(o.a)(u,2),d=m[0],b=m[1],f=Object(n.useState)(!1),h=Object(o.a)(f,2),E=h[0],j=h[1],g=Object(n.useReducer)((function(e,t){return Object(v.a)(Object(v.a)({},e),t)}),a.appData),y=Object(o.a)(g,2),_=y[0],C=y[1];return Object(n.useEffect)((function(){window.localStorage.setItem("VocaQuiz",JSON.stringify(_))}),[_]),c.a.createElement("div",{className:t},c.a.createElement("nav",null,c.a.createElement("button",{onClick:function(){s(!i)}},"Item length"),c.a.createElement("button",{onClick:function(){b(!d)}},"Save Item"),c.a.createElement("button",{onClick:function(){j(!E)}},"Get Item")),c.a.createElement("div",null,c.a.createElement(O,{title:"Debug",fnChange:function(e){C({debug:e})},checked:_.debug})),c.a.createElement("div",null,c.a.createElement("p",null,"Item 1.0.5 16-8-2020 Refactoring info."),c.a.createElement("p",null,"Item 1.0.4 9-8-2020 Refresh item list when is showed."),c.a.createElement("p",null,"Item 1.0.3 9-8-2020 Timeout cookie is fixed."),c.a.createElement("p",null,"Item 1.0.2 8-8-2020 Save new item is fixed."),c.a.createElement("p",null,"Item 1.0.1 8-8-2020 Basic version.")),c.a.createElement("div",{className:w.a.group},c.a.createElement(S,{show:i}),c.a.createElement(k,{show:d}),c.a.createElement(N,{show:E})))}function S(e){var t=e.show?w.a.displayInitial:w.a.displayNone,a=Object(n.useState)(""),l=Object(o.a)(a,2),r=l[0],i=l[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),d=m[0],p=m[1],h=Object(j.a)(["token"]),v=Object(o.a)(h,1)[0];return c.a.createElement("div",{className:t},c.a.createElement("form",{onSubmit:function(e){i(""),p(""),e.preventDefault();var t="&token=".concat(v.token);fetch("".concat(b.GetHost()).concat("/ItemGetApi.php?itemlength").concat(t),{method:"GET",credentials:"include",headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.statusCode?p(e.message):i(e.message)})).catch((function(e){console.error("There was an error.",e),i("There was an error : ".concat(b.GetHost()).concat(s))}))}},c.a.createElement("fieldset",{className:w.a.fieldset},c.a.createElement("legend",null,"Itemlength:"),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Ok"})),c.a.createElement(E,{message:d}),c.a.createElement(f,{error:r}))))}function k(e){var t=e.show?w.a.displayInitial:w.a.displayNone,a=Object(n.useState)(""),l=Object(o.a)(a,2),r=l[0],i=l[1],u=Object(n.useState)(0),m=Object(o.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(""),v=Object(o.a)(h,2),O=v[0],g=v[1],y=Object(n.useState)(""),S=Object(o.a)(y,2),k=S[0],N=S[1],_=Object(j.a)(["token"]),C=Object(o.a)(_,3),I=C[0];C[1],C[2];return c.a.createElement("div",{className:t},c.a.createElement("form",{onSubmit:function(e){g(""),N(""),e.preventDefault();var t={credentials:"include",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:JSON.stringify({value:r,version:d})},a="?token=".concat(I.token);fetch("".concat(b.GetHost()).concat("/ItemSetApi.php").concat(a),t).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.statusCode?N(e.message):g(e.message)})).catch((function(e){console.error("There was an error.",e),g("There was an error : ".concat(b.GetHost()).concat(s))}))}},c.a.createElement("fieldset",{className:w.a.fieldset},c.a.createElement("legend",null,"Save Item:"),c.a.createElement("div",null,c.a.createElement("label",null,"Version",c.a.createElement("input",{type:"number",value:d,onChange:function(e){return p(e.target.value)},placeholder:"0"}))),c.a.createElement("div",null,c.a.createElement("label",null,"Item",c.a.createElement("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)},placeholder:"my text..."}))),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Ok"})),c.a.createElement(E,{message:k}),c.a.createElement(f,{error:O}))))}function N(e){var t=e.show?w.a.displayInitial:w.a.displayNone,a=Object(n.useState)(""),l=Object(o.a)(a,2),r=l[0],u=l[1],m=Object(n.useState)(""),d=Object(o.a)(m,2),p=d[0],h=d[1],v=Object(n.useState)(!1),O=Object(o.a)(v,2),g=(O[0],O[1],Object(j.a)(["token"])),y=Object(o.a)(g,3),S=y[0];y[1],y[2];return c.a.createElement("div",{className:t},c.a.createElement("form",{onSubmit:function(e){u(""),h(""),e.preventDefault();var t="?token=".concat(S.token);fetch("".concat(b.GetHost()).concat(i).concat(t),{credentials:"include",method:"GET",headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.statusCode?h(e.message):u(e.message)})).catch((function(e){console.error("There was an error.",e),u("There was an error : ".concat(b.GetHost()).concat(s))}))}},c.a.createElement("fieldset",{className:w.a.fieldset},c.a.createElement("legend",null,"Item:"),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Ok"})),c.a.createElement(E,{message:p}),c.a.createElement(f,{error:r}))))}var _=a(10),C=function e(t,a,n){Object(u.a)(this,e),this.value=a,this.comment=n,this.id=t};function I(e){var t=e.item,a=e.index,n=e.handleItemClick,l=e.handleRemoveClick;return c.a.createElement("div",{className:w.a.group,key:t.id},c.a.createElement("div",{className:w.a.id},t.id),c.a.createElement("div",{className:w.a.description},"Value:",t.value),c.a.createElement("div",null,t.comment),c.a.createElement("div",{className:w.a.button},c.a.createElement("button",{onClick:function(){return n(a)}},"Edit"),c.a.createElement("button",{onClick:function(){return l(a)}},"Delete")))}function x(e){var t=e.item,a=e.addItem,l=Object(n.useState)(t.id),r=Object(o.a)(l,2),i=r[0],s=r[1],u=Object(n.useState)(t.value),m=Object(o.a)(u,2),d=m[0],p=m[1],b=Object(n.useState)(t.comment),h=Object(o.a)(b,2),v=h[0],O=h[1],j=Object(n.useState)(""),g=Object(o.a)(j,1)[0],y=Object(n.useState)(""),S=Object(o.a)(y,1)[0];Object(n.useEffect)((function(){s(t.id),p(t.value),O(t.comment)}),[t]);return c.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),d){var t=new C(i,d,v);a(t);var n=new C(0,"","");s(n.id),p(n.value),O(n.comment)}}},c.a.createElement("fieldset",{className:w.a.fieldset},c.a.createElement("legend",null,"Edit Item:"),c.a.createElement("div",{className:w.a.id},c.a.createElement("label",{className:w.a.inputFieldLabel},"id"),c.a.createElement("div",null,i)),c.a.createElement("div",{className:w.a.inputField},c.a.createElement("label",{className:w.a.inputFieldLabel},c.a.createElement("div",null,"Value"),c.a.createElement("input",{className:w.a.inputField,type:"text",value:d,onChange:function(e){return p(e.target.value)},placeholder:"my value..."}))),c.a.createElement("div",{className:w.a.inputField},c.a.createElement("label",{className:w.a.inputFieldLabel},c.a.createElement("div",null,"Comment"),c.a.createElement("textarea",{rows:"5",cols:"40",name:"comment",value:v,placeholder:"my comment...",onChange:function(e){return O(e.target.value)}}))),c.a.createElement("div",{className:w.a.button},c.a.createElement("input",{type:"submit",value:"Save"})),c.a.createElement(E,{message:S}),c.a.createElement(f,{error:g})))}function T(e){var t=e.show,a=Object(n.useState)(w.a.displayInitial),l=Object(o.a)(a,2),r=l[0],s=l[1],u=Object(n.useState)([]),m=Object(o.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(new C(0,"","")),O=Object(o.a)(h,2),g=O[0],y=O[1],S=Object(n.useState)(""),k=Object(o.a)(S,2),N=k[0],T=k[1],G=Object(n.useState)(""),H=Object(o.a)(G,2),D=H[0],J=H[1],L=Object(n.useState)(0),A=Object(o.a)(L,2),F=A[0],P=A[1],V=Object(n.useState)(!1),z=Object(o.a)(V,2),R=z[0],Q=z[1],U=Object(j.a)(["token"]),q=Object(o.a)(U,1)[0],B=t?w.a.displayInitial:w.a.displayNone;r!==B&&s(B),Object(n.useEffect)((function(){T(""),J("");var e="?token=".concat(q.token);fetch("".concat(b.GetHost()).concat(i).concat(e),{method:"GET",credentials:"include",headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return e.json()})).then((function(e){if(console.log(e),200===e.statusCode){J(e.message);var t=[],a=0;if(e.message){var n=JSON.parse(e.message);if(null!=n){a=n.version;try{t=JSON.parse(n.value)}catch(l){}}}p(t),P(a),y(new C(0,"",""))}else{var c=e.message;401===e.statusCode&&(c="You are logged out, svp login again."),T(c)}})).catch((function(e){console.error("There was an error.",e),T("There was an error : ".concat(b.GetHost()).concat(i," error:").concat(e))}))}),[r]),Object(n.useEffect)((function(){R&&(M(),Q(!1))}),[R]);var M=function(){T(""),J("");var e=JSON.stringify(d),t={credentials:"include",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:JSON.stringify({value:e,version:F})},a="?token=".concat(q.token);fetch("".concat(b.GetHost()).concat("/ItemSetApi.php").concat(a),t).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.statusCode?J(e.message):T(e.message)})).catch((function(e){console.error("There was an error.",e),T("There was an error : ".concat(b.GetHost()).concat("/ItemSetApi.php"))}))};var W=function(e){var t=Object(_.a)(d);t.splice(e,1),p(t),M()},K=function(e){var t=d[e];y(Object(v.a)({},t))};return c.a.createElement("div",{className:r},c.a.createElement("h2",null,"List"),c.a.createElement(x,{item:g,addItem:function(e){var t=d;if(void 0===t&&(t=[]),""===e.id||0===e.id){e.id=0;for(var a=0;a<t.length;a++){var n=t[a].id;n>e.id&&(e.id=n)}e.id++}var c=t.filter((function(t){return t.id!==e.id})),l=[].concat(Object(_.a)(c),[e]).sort(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var c="string"===typeof a[e]?a[e].toUpperCase():a[e],l="string"===typeof n[e]?n[e].toUpperCase():n[e],r=0;return c>l?r=1:c<l&&(r=-1),"desc"===t?-1*r:r}}("value"));p(l),Q(!0),y(new C(0,"",""))}}),c.a.createElement("div",null,d.length?d.map((function(e,t){return c.a.createElement(I,{key:e.id,item:e,index:t,handleItemClick:K,handleRemoveClick:W})})):""),c.a.createElement(E,{message:D}),c.a.createElement(f,{error:N}))}function G(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),p=d[0],b=d[1];return c.a.createElement("div",{className:w.a.event},c.a.createElement("nav",null,c.a.createElement("button",{onClick:function(){l(!a)}},"Info"),c.a.createElement("button",{onClick:function(){u(!s)}},"Sign in"),c.a.createElement("button",{onClick:function(){b(!p)}},"Show Items List")),c.a.createElement("div",{className:w.a.group},c.a.createElement("h1",null,"Hello Voca-Quiz!"),c.a.createElement(y,{show:a}),c.a.createElement(D,{show:s}),c.a.createElement(T,{show:p})))}function H(e){var t=e.show?w.a.displayInitial:w.a.displayNone,a=Object(n.useState)(""),l=Object(o.a)(a,2),r=l[0],i=l[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(""),v=Object(o.a)(p,2),O=v[0],j=v[1],g=Object(n.useState)(""),y=Object(o.a)(g,2),S=y[0],k=y[1],N=Object(n.useState)(""),_=Object(o.a)(N,2),C=_[0],I=_[1];return c.a.createElement("div",{className:t},c.a.createElement("form",{onSubmit:function(e){k(""),I(""),e.preventDefault();var t={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:JSON.stringify({appname:"VocaQuiz",nickname:r,password:m,email:O})};Object(h.a)("".concat(b.GetHost()).concat("/UserCreateApi.php"),t).then((function(e){return e.json()})).then((function(e){console.log(e),console.log("ready"),200===e.statusCode?I(e.message):k(e.message)})).catch((function(e){console.error("There was an error.",e),k("There was an error with UserCreateApi.")}))}},c.a.createElement("fieldset",{className:w.a.fieldset},c.a.createElement("legend",null,"New account:"),c.a.createElement("div",null,c.a.createElement("label",null,"Nickname",c.a.createElement("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)},placeholder:"my nickname"}))),c.a.createElement("div",null,c.a.createElement("label",null,"Password",c.a.createElement("input",{type:"text",value:m,onChange:function(e){return d(e.target.value)},placeholder:"my password"}))),c.a.createElement("div",null,c.a.createElement("label",null,"Email",c.a.createElement("input",{type:"text",value:O,onChange:function(e){return j(e.target.value)},placeholder:"my@mail.org"}))),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Ok"})),c.a.createElement(E,{message:C}),c.a.createElement(f,{error:S}))))}function D(e){var t=e.show?w.a.displayInitial:w.a.displayNone,a=Object(n.useState)(""),l=Object(o.a)(a,2),r=l[0],i=l[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),d=m[0],p=m[1],v=Object(n.useState)(!1),O=Object(o.a)(v,2),g=O[0],y=O[1],S=Object(n.useState)(""),k=Object(o.a)(S,2),N=k[0],_=k[1],C=Object(n.useState)(""),I=Object(o.a)(C,2),x=I[0],T=I[1],G=Object(n.useState)(!1),D=Object(o.a)(G,2),J=D[0],L=D[1],A=Object(j.a)(["token"]),F=Object(o.a)(A,2),P=(F[0],F[1]);return c.a.createElement("div",{className:t},c.a.createElement("button",{onClick:function(){L(!J)}},"New account"),c.a.createElement(H,{show:J}),c.a.createElement("form",{onSubmit:function(e){_(""),T(""),e.preventDefault();var t={credentials:"include",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:JSON.stringify({appname:"VocaQuiz",nickname:r,password:d,iscookiepermanent:g})};Object(h.a)("".concat(b.GetHost()).concat(s),t).then((function(e){try{return e.json()}catch(t){return e.text()}})).then((function(e){if(console.log(e),200===e.statusCode){T(e.message);var t=1e3*parseInt(e.tokenTimeoutSeconde,10),a=new Date(t);P("token",e.token,{expires:a})}else void 0!==e.statusCode?_(e.message):_(e)})).catch((function(e){console.error("There was an error.",e),_("There was an error : ".concat(b.GetHost()).concat(s))}))}},c.a.createElement("fieldset",{className:w.a.fieldset},c.a.createElement("legend",null,"Login:"),c.a.createElement("div",null,c.a.createElement("label",null,"Nickname",c.a.createElement("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)},placeholder:"my nickname"}))),c.a.createElement("div",null,c.a.createElement("label",null,"Password",c.a.createElement("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)},placeholder:"my password"}))),c.a.createElement("div",null,c.a.createElement("label",null,"Remember me?",c.a.createElement("input",{type:"checkbox",defaultChecked:g,onChange:function(e){return y(e.target.checked)}}))),c.a.createElement("div",null,c.a.createElement("input",{type:"submit",value:"Ok"})),c.a.createElement(E,{message:x}),c.a.createElement(f,{error:N}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.1b8df26e.chunk.js.map